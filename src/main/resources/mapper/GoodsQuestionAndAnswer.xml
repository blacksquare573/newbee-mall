<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="ltd.newbee.mall.newbeemall.dao.GoodsQuestionAndAnswerMapper">
	<select id="findGoodsQAByGoodsId"
		resultType="ltd.newbee.mall.newbeemall.entity.GoodsQuestionAndAnswer"> //?
		SELECT question_contents,question_date,
		answer_contents,answer_date,count(li.user_id)
		FROM answers as a Join questions as q
		ON a.question_id = q.question_id
		LEFT JOIN qa_like as li
		ON a.answer_id = li.answer_id
		WHERE a.goods_id = 10003
		GROUP BY li.answer_id
		ORDER BY answer_date DESC, count(li.user_id) desc
		LIMIT 3;
	</select>

</mapper>